<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>To do list</title>
	<link rel="stylesheet" href="css/input.css">
	<link rel="stylesheet" href="css/list.css">
</head>

<body>
	<div id="wrapper">
		<h2>여행 준비물 점검 목록</h2>
		<form>
			<input type="text" id="item" autofocus="true">
			<button type="button" id="add" class="addBtn">추가</button>
		</form>
		<div id="itemList"></div>
	</div>
	<script>
		let list = [];

		let addBtn = document.getElementById("add");
		addBtn.addEventListener("click", function () {
			let item = document.getElementById("item").value;
			if (item != null) {
				list.push(item);
				document.getElementById("item").value = "";
			}

			addList();
		});

		function addList() {
			let showList = "<ul>"
			for (let i = 0; i < list.length; i++) {
				showList += "<li>" + list[i] + "<span class='close' id=" + i + ">X</span></li>";
			}
			showList += "</ul>";

			document.getElementById("itemList").innerHTML = `${showList}`;

			let deleteBtn = document.getElementsByClassName("close");
			for (let i = 0; i < deleteBtn.length; i++) {
				deleteBtn[i].addEventListener("click", function() {
					let id = this.getAttribute("id");
					list.splice(id, 1);
					addList();
				});
			}
		}
	</script>
</body>

</html>